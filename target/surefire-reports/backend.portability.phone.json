[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def resultContract = callonce read('..\/..\/claroApp\/user\/contractlist.feature@list')","result":{"duration":5074222306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"13:32:06.841 >> lock acquired, begin callonce: read('..\/..\/claroApp\/user\/contractlist.feature@list')\n13:32:11.914 << lock released, cached callonce: read('..\/..\/claroApp\/user\/contractlist.feature@list')","line":5}},{"name":"..\/..\/claroApp\/user\/contractlist.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":5},{"name":"def result = callonce read('..\/..\/claroApp\/authentication\/signin.feature@login')","result":{"duration":1723428754,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"13:32:06.861 scenario called at line: 14 by tag: @list\n13:32:06.866 >> lock acquired, begin callonce: read('..\/..\/claroApp\/authentication\/signin.feature@login')\n13:32:08.589 << lock released, cached callonce: read('..\/..\/claroApp\/authentication\/signin.feature@login')","line":5}},{"name":"..\/..\/claroApp\/authentication\/signin.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">","line":5},{"name":"header Content-Type = 'application\/json'","result":{"duration":5402225,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":5,"doc_string":{"content_type":"","value":"13:32:06.882 scenario called at line: 12 by tag: @login","line":5}},{"name":"header x-application-key = xappkey","result":{"duration":137410,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":6},{"name":"header gw-app-key = gwappkey","result":{"duration":32273,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":7},{"name":"header Cache-Control = 'no-cache'","result":{"duration":4061227,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":8},{"name":"url authenticationUrl","result":{"duration":77578,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":9},{"name":"def body =","result":{"duration":37304848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":14,"doc_string":{"content_type":"","value":"{\n    \"username\": \"<username>\",\n    \"password\": \"<password>\"\n}","line":14}},{"name":"replace body.username = username","result":{"duration":388256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":22},{"name":"replace body.password = password","result":{"duration":50391,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":23},{"name":"def responseApi =","result":{"duration":171572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> *","line":25,"doc_string":{"content_type":"","value":"{\n  userInfo: '#string',\n  idmToken: '#string',\n  idmSID: '#string'\n}","line":25}},{"name":"path 'sign-in'","result":{"duration":3349985,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Given","line":33},{"name":"request body","result":{"duration":55641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":34},{"name":"method post","result":{"duration":1613305407,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> When","line":35,"doc_string":{"content_type":"","value":"13:32:07.270 request:\n1 > POST https:\/\/qa-gw.claro.com.br\/authentication\/v1\/sign-in\n1 > Accept-Encoding: gzip,deflate\n1 > Cache-Control: no-cache\n1 > Connection: Keep-Alive\n1 > Content-Length: 47\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: qa-gw.claro.com.br\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/11.0.2)\n1 > gw-app-key: e9e24b40c78e013762d7000d3ac06d76\n1 > x-application-key: 2251d8c0a94601364c54000d3ac06d76\n{\"username\":\"36512468848\",\"password\":\"Net.123\"}\n\n13:32:08.554 response time in milliseconds: 1271,97\n1 < 200\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Server: ECD (spb\/E517)\n1 < Transfer-Encoding: chunked\n1 < X-Policy: 200205-02\n1 < cache-control: no-store, max-age=0\n1 < date: Wed, 12 Feb 2020 15:32:08 GMT\n1 < strict-transport-security: max-age=63072000; includeSubDomains\n1 < vary: accept-encoding\n1 < x-content-type-options: nosniff\n1 < x-download-options: noopen\n1 < x-frame-options: DENY\n1 < x-request-id: c972c232ff83139dd12c40eef20fa1a2ee510270de9782e7aeeec217974a7b36\n1 < x-xss-protection: 1; mode=block\n{\"userInfo\":\"ahLJVg2FzLA5R1tdLjWPtT\/+L8iS7oVlMYh7zFtL1QP8Jiop\/u\/VCoWpX\/SdKk4\/gmkQlOsUbeWp9Psejj2acOP1EqIO1oCAbKpOiP7LPRkos4aZh7OjUZxOzR\/ZKm3w\/l\/Igrit20XIJaIhQThy+WNgdC5kpf\/VEdUj24aFS460b4BHlJPNfTqBzN9R6FtxM8vOVPg1RnxzE7yrLggDce\/VbRCUUslK7AZOXItXGFnBO8EoIIVdhMMMT7qdzxHnS3kNGDmsbzgtJP6FhehF4Dtj1ylh8+dBWZqDoW8Tn5eUkrP6j+G\/g7hDrDmZr4Fk2DlFhmLUGqSrPZtNi0Dkv8OL9npsW8gwJdKnhfh+SEzaLhYK2f9E4DBNFf2fjMeGMd8gKDSi8vltEASobAWGoaA1uLoCuBnODCtJNzpJ6XyY+ZAww2w\/O0IGN05yaeRQ+YRvEEXG+94WCUqOUzyjObDED07LtOY2FW7U3SEQQffdRA04drupEXjPtKZPKCneyTYAXrznCPoC+7oQ8Tm+szyan4BR4PdFKXpajuGMO+XyJf04QDKfnNXBQM5Ssu9bWFAJ2bFXoH8hOGs0eeTC5UFSMmWXIuTlp77HVpoA5wfSM7Y1DfUrutJoavSZVRLT2lSBYhXV4P7yVdaWs4roMVOpfuTaYCXNjxL5eCxngoXrQ7YLMfAsSy5EhLTd5MY1thKWa3\/O9anxD+XFUuKOlLf1pilN4S0CUe6u9AIiWK99XPv8+xuHbIM0MncQqqi2IqSk4a8TbhwacRrNQDNSeg==\",\"idmToken\":\"7d1a98ac50d30d0e\",\"idmSID\":\"4e4a029847d1b4e9\"}","line":35}},{"name":"status 200","result":{"duration":33443,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> Then","line":36},{"name":"match response == responseApi","result":{"duration":1449478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":37},{"name":"def idmToken = response.idmToken","result":{"duration":14004412,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":38},{"name":"def userInfo = response.userInfo","result":{"duration":5331997,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":39},{"name":"def idmSID = response.idmSID","result":{"duration":4786855,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":">> And","line":40},{"name":"header Content-Type = 'application\/json'","result":{"duration":198800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"header userInfo = java.net.URLEncoder.encode(result.userInfo, 'UTF-8')","result":{"duration":31744899,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"header x-application-key = xappkey","result":{"duration":43927,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"header gw-app-key = gwappkey","result":{"duration":25764,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"header Cache-Control = 'no-cache'","result":{"duration":229848,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"url userUrl","result":{"duration":26972,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def responseApi =","result":{"duration":160775,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16,"doc_string":{"content_type":"","value":"{\n  contracts: '#[]? _.length == 4'\n}","line":16}},{"name":"path 'contract'","result":{"duration":4122956,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":22},{"name":"request {}","result":{"duration":166142,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":23},{"name":"method get","result":{"duration":3233467843,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":24,"doc_string":{"content_type":"","value":"13:32:08.629 request:\n1 > GET https:\/\/qa-gw.claro.com.br\/user\/v1\/contract\n1 > Accept-Encoding: gzip,deflate\n1 > Cache-Control: no-cache\n1 > Connection: Keep-Alive\n1 > Content-Type: application\/json\n1 > Host: qa-gw.claro.com.br\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/11.0.2)\n1 > gw-app-key: e9e24b40c78e013762d7000d3ac06d76\n1 > userInfo: ahLJVg2FzLA5R1tdLjWPtT%2F%2BL8iS7oVlMYh7zFtL1QP8Jiop%2Fu%2FVCoWpX%2FSdKk4%2FgmkQlOsUbeWp9Psejj2acOP1EqIO1oCAbKpOiP7LPRkos4aZh7OjUZxOzR%2FZKm3w%2Fl%2FIgrit20XIJaIhQThy%2BWNgdC5kpf%2FVEdUj24aFS460b4BHlJPNfTqBzN9R6FtxM8vOVPg1RnxzE7yrLggDce%2FVbRCUUslK7AZOXItXGFnBO8EoIIVdhMMMT7qdzxHnS3kNGDmsbzgtJP6FhehF4Dtj1ylh8%2BdBWZqDoW8Tn5eUkrP6j%2BG%2Fg7hDrDmZr4Fk2DlFhmLUGqSrPZtNi0Dkv8OL9npsW8gwJdKnhfh%2BSEzaLhYK2f9E4DBNFf2fjMeGMd8gKDSi8vltEASobAWGoaA1uLoCuBnODCtJNzpJ6XyY%2BZAww2w%2FO0IGN05yaeRQ%2BYRvEEXG%2B94WCUqOUzyjObDED07LtOY2FW7U3SEQQffdRA04drupEXjPtKZPKCneyTYAXrznCPoC%2B7oQ8Tm%2Bszyan4BR4PdFKXpajuGMO%2BXyJf04QDKfnNXBQM5Ssu9bWFAJ2bFXoH8hOGs0eeTC5UFSMmWXIuTlp77HVpoA5wfSM7Y1DfUrutJoavSZVRLT2lSBYhXV4P7yVdaWs4roMVOpfuTaYCXNjxL5eCxngoXrQ7YLMfAsSy5EhLTd5MY1thKWa3%2FO9anxD%2BXFUuKOlLf1pilN4S0CUe6u9AIiWK99XPv8%2BxuHbIM0MncQqqi2IqSk4a8TbhwacRrNQDNSeg%3D%3D\n1 > x-application-key: 2251d8c0a94601364c54000d3ac06d76\n\n13:32:11.860 response time in milliseconds: 3225,94\n1 < 200\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Server: ECD (spb\/E4A2)\n1 < Transfer-Encoding: chunked\n1 < X-Policy: 200205-02\n1 < cache-control: no-store, max-age=0\n1 < date: Wed, 12 Feb 2020 15:32:11 GMT\n1 < strict-transport-security: max-age=63072000; includeSubDomains\n1 < vary: accept-encoding\n1 < x-content-type-options: nosniff\n1 < x-download-options: noopen\n1 < x-frame-options: DENY\n1 < x-request-id: ac4fe9239da0f1f7a0b98cd69959dd9ed4831a65417916e6a4b81abb57c54e5a\n1 < x-xss-protection: 1; mode=block\n{\"contracts\":[{\"contractNumber\":\"019181308\",\"operatorCode\":\"052\",\"addresses\":[],\"customerUno\":false}]}","line":24}},{"name":"status 200","result":{"duration":49089,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":25},{"name":"match response == responseApi","result":{"duration":24665043,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":26},{"name":"def contractnumber = response.contracts[0].contractNumber","result":{"duration":15009335,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":27},{"name":"def operatorcode = response.contracts[0].operatorCode","result":{"duration":4371469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":28},{"name":"def userinfo = result.userInfo","result":{"duration":3511987,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":29},{"name":"def idmtoken = result.idmToken","result":{"duration":3352836,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":30},{"name":"header Authorization = 'Bearer ' + resultContract.idmtoken + '@' + resultContract.operatorcode + resultContract.contractnumber","result":{"duration":5989094,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"header X-Application-Key = gwappkey","result":{"duration":28576,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"header Content-Type = 'application\/json'","result":{"duration":107758,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"header origin = 'API'","result":{"duration":3087780,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"url portabilityUrl","result":{"duration":29111,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11}]},{"line":14,"name":"Validar criação de portabilidade","description":"","id":"validar-criação-de-portabilidade","type":"scenario","keyword":"Scenario","steps":[{"name":"def body =","result":{"duration":295763,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"{\n    \"mobileOperatorIdentifier\": 81,\n    \"cellphoneNumber\": 11970707171,\n    \"netPhoneNumber\": 11970707172,\n    \"isHolder\": true,\n    \"clientIP\": \"192.0.0.1\",\n    \"clientEmail\": \"teste@teste.com\",\n    \"clientName\": \"Name Test\",\n    \"requestURI\": \"a\",\n    \"username\": \"Tester\",\n    \"cityId\": 81\n}","line":16}},{"name":"def responseApi =","result":{"duration":108347,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":32,"doc_string":{"content_type":"","value":"{\n  protocolNumber: \"#string\"\n}","line":32}},{"name":"path 'phone'","result":{"duration":3904641,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":39},{"name":"request body","result":{"duration":28627,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":40},{"name":"method post","result":{"duration":3506505119,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":41,"doc_string":{"content_type":"","value":"13:32:11.931 request:\n1 > POST https:\/\/qa-gw.claro.com.br\/resource-order-portability\/v1\/phone\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer 7d1a98ac50d30d0e@052019181308\n1 > Connection: Keep-Alive\n1 > Content-Length: 235\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: qa-gw.claro.com.br\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/11.0.2)\n1 > X-Application-Key: e9e24b40c78e013762d7000d3ac06d76\n1 > origin: API\n{\"mobileOperatorIdentifier\":81,\"cellphoneNumber\":11970707171,\"netPhoneNumber\":11970707172,\"isHolder\":true,\"clientIP\":\"192.0.0.1\",\"clientEmail\":\"teste@teste.com\",\"clientName\":\"Name Test\",\"requestURI\":\"a\",\"username\":\"Tester\",\"cityId\":81}\n\n13:32:15.434 response time in milliseconds: 3499,60\n1 < 200\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Server: ECD (spb\/E516)\n1 < Transfer-Encoding: chunked\n1 < X-Policy: 200205-02\n1 < cache-control: no-store, max-age=0\n1 < date: Wed, 12 Feb 2020 15:32:15 GMT\n1 < strict-transport-security: max-age=63072000; includeSubDomains\n1 < vary: accept-encoding\n1 < x-content-type-options: nosniff\n1 < x-download-options: noopen\n1 < x-frame-options: DENY\n1 < x-request-id: 764699644fa4b63293f20e285e8d59b3ab48a34ce06c811cfe872f3c3310990b\n1 < x-xss-protection: 1; mode=block\n{\"protocolNumber\":\"052202590592431\"}","line":41}},{"name":"status 200","result":{"duration":43329,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":42},{"name":"match response == responseApi","result":{"duration":457064,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":43}],"tags":[{"name":"@phone","line":13}]}],"name":"backend\/portability\/phone.feature","description":"Portabilidade","id":"portabilidade","keyword":"Feature","uri":"backend\/portability\/phone.feature"}]